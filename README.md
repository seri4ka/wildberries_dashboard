# Wildberries Sales Analysis Project

## 1. Описание проекта

Проект представляет собой инструмент для анализа данных о товарах с маркетплейса Wildberries. Он включает в себя:
- **Парсер данных** о товарах с Wildberries, который собирает информацию о категориях, брендах, ценах, рейтингах, скидках и доступности товаров.
- **Базу данных PostgreSQL** для хранения собранных данных в структурированном виде с использованием нормализованной схемы.
- **Интерактивный дашборд** на Streamlit, который отображает основные метрики и визуализации, такие как:
  - Общее количество товаров и распределение по брендам.
  - Средняя цена товаров и распределение цен.
  - Средняя скидка и распределение скидок.
  - Распределение рейтингов товаров.

## 2. Технологический стек

- **Язык программирования**: Python
- **База данных**: PostgreSQL
- **Библиотеки для работы с базой данных**: psycopg2, pandas
- **Парсер**: requests, retry
- **Визуализация и дашборд**: Streamlit, pandas для обработки данных
- **Управление конфигурацией**: python-dotenv для работы с `.env` файлами

## 3. Потенциальные улучшения

В будущем проект можно расширить и улучшить следующими способами:
- **Использование SQLAlchemy** для улучшения взаимодействия с базой данных, что упростит обработку предупреждений и улучшит стабильность.
- **Автоматизация парсинга**: Настроить регулярное обновление данных с помощью CRON (на Linux) или Task Scheduler (на Windows).
- **Дополнительные визуализации**: Добавить графики для более детализированных метрик, таких как динамика изменения цен по категориям или анализ сезонности.
- **Аналитика трендов**: Добавить возможности прогнозирования на основе собранных данных, используя библиотеки машинного обучения, такие как scikit-learn.
- **Поддержка больших данных**: Перейти на ClickHouse или другую высокопроизводительную базу данных для более быстрой аналитики в случае увеличения объема данных.

## 4. Инструкции по запуску

### Предварительные требования

- Установите Python 3.8+ и PostgreSQL.
- Убедитесь, что у вас установлены зависимости проекта. Список зависимостей находится в `requirements.txt`.

### Установка и настройка

1. **Клонируйте репозиторий**:
   ```bash
   git clone <URL вашего репозитория>
   cd project_wildberries
  ```

2. **Установите зависимости**:
  ```bash
  pip install -r requirements.txt
  ```

3. **Настройте базу данных**:
- Создайте БД ```wildberries_db``` в PostgreSQL
- Используйте файл schema.sql для создания таблиц в БД. Выполните команду:
  ```bash
  psql -U postgres -d wildberries_db -f db/schema.sql
  ```

4. **Настройте файл ```.env```**:
- Создайте ```.env``` файл в корневом каталоге проекта и добавьте параметры для подключения к базе данных:
  ```bash
  DB_HOST=localhost
  DB_PORT=5432
  DB_NAME=wildberries_db
  DB_USER=postgres
  DB_PASSWORD=ваш_пароль
  ```

5. **Запустите скрипт для создания таблиц (если не использовали ```schema.sql```)**:
  ```bash
  python db/init_db.py
  ```

6. **Запустите парсер для сбора данных**:
  ```bash
  python parser/wildberries_parser.py
  ```

- Парсер соберет данные с Wildberries и загрузит их в базу данных.

7. **Запустите дашборд Streamlit**:
  ```bash
  streamlit run dashboard/app.py
  ```

- Откройте браузер и перейдите по адресу ```http://localhost:8501```, чтобы просмотреть дашборд.

### Примечание

Если вам необходимо перезапускать парсер или дашборд, убедитесь, что база данных настроена и доступна, а все зависимости установлены.
